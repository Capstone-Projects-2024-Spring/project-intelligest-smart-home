<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-api-specification/api-design" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Design Document - API | Project Intelligest Smart Home</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Capstone-Projects-2024-Spring.github.io/project-intelligest-smart-home/docs/api-specification/api-design"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Design Document - API | Project Intelligest Smart Home"><meta data-rh="true" name="description" content="Descriptions of classes, fields, and functions"><meta data-rh="true" property="og:description" content="Descriptions of classes, fields, and functions"><link data-rh="true" rel="icon" href="/project-intelligest-smart-home/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Capstone-Projects-2024-Spring.github.io/project-intelligest-smart-home/docs/api-specification/api-design"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2024-Spring.github.io/project-intelligest-smart-home/docs/api-specification/api-design" hreflang="en"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2024-Spring.github.io/project-intelligest-smart-home/docs/api-specification/api-design" hreflang="x-default"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><link rel="stylesheet" href="/project-intelligest-smart-home/assets/css/styles.90408e4c.css">
<script src="/project-intelligest-smart-home/assets/js/runtime~main.7b536fe4.js" defer="defer"></script>
<script src="/project-intelligest-smart-home/assets/js/main.1a0e496a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/project-intelligest-smart-home/"><div class="navbar__logo"><img src="https://upload.wikimedia.org/wikipedia/commons/1/17/Temple_T_logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://upload.wikimedia.org/wikipedia/commons/1/17/Temple_T_logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Project Intelligest Smart Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/project-intelligest-smart-home/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/project-intelligest-smart-home/tutorial/Intro">Docusaurus Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Capstone-Projects-2024-Spring/project-intelligest-smart-home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/project-intelligest-smart-home/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-intelligest-smart-home/docs/category/requirements-specification">Requirements Specification</a><button aria-label="Expand sidebar category &#x27;Requirements Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-intelligest-smart-home/docs/category/system-architecture">System Architecture</a><button aria-label="Expand sidebar category &#x27;System Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/project-intelligest-smart-home/docs/category/api-specification">API Specification</a><button aria-label="Collapse sidebar category &#x27;API Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project-intelligest-smart-home/docs/api-specification/api-design">Design Document - API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-intelligest-smart-home/docs/category/test-procedures">Test Procedures</a><button aria-label="Expand sidebar category &#x27;Test Procedures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/project-intelligest-smart-home/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/project-intelligest-smart-home/docs/category/api-specification"><span itemprop="name">API Specification</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Design Document - API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Design Document - API</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="home-assistant">Home Assistant<a href="#home-assistant" class="hash-link" aria-label="Direct link to Home Assistant" title="Direct link to Home Assistant">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-purpose">Class Purpose<a href="#class-purpose" class="hash-link" aria-label="Direct link to Class Purpose" title="Direct link to Class Purpose">​</a></h3>
<p>The core of our system, acting as the server. It’s responsible for managing the state of all connected devices and automations. It communicates with the user interface to display device statuses. It also communicates with the IntelliGest system and MediaPipe model to predict for User hand gesture. It also interacts with the devices themselves to control their states based on user input and automation rules.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-fields--attributes">Data Fields / Attributes:<a href="#data-fields--attributes" class="hash-link" aria-label="Direct link to Data Fields / Attributes:" title="Direct link to Data Fields / Attributes:">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-devices"><code>-devices[]</code><a href="#-devices" class="hash-link" aria-label="Direct link to -devices" title="Direct link to -devices">​</a></h5>
<p>It will contain Information about all Home devices: TV, Alarm, Weather, Thermostat, Locks, Reminders, To-do list</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-automations"><code>-automations[]</code><a href="#-automations" class="hash-link" aria-label="Direct link to -automations" title="Direct link to -automations">​</a></h5>
<p>Contains information about automations</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="add_device"><code>+add_device()</code><a href="#add_device" class="hash-link" aria-label="Direct link to add_device" title="Direct link to add_device">​</a></h5>
<p>Function capable of adding a new device to Home Assistant</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="remove_device"><code>+remove_device()</code><a href="#remove_device" class="hash-link" aria-label="Direct link to remove_device" title="Direct link to remove_device">​</a></h5>
<p>Function can remove a device</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="update_device_status"><code>+update_device_status()</code><a href="#update_device_status" class="hash-link" aria-label="Direct link to update_device_status" title="Direct link to update_device_status">​</a></h5>
<p>Function can update device to current status</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="execute_automation"><code>+execute_automation()</code><a href="#execute_automation" class="hash-link" aria-label="Direct link to execute_automation" title="Direct link to execute_automation">​</a></h5>
<p>Function executes automation for that device</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-interface">User Interface<a href="#user-interface" class="hash-link" aria-label="Direct link to User Interface" title="Direct link to User Interface">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-purpose-1">Class Purpose<a href="#class-purpose-1" class="hash-link" aria-label="Direct link to Class Purpose" title="Direct link to Class Purpose">​</a></h3>
<p>The user interface is the Home Assistant dashboard that allows users to interact with the system. It sends user commands to the Home Assistant and displays the status of the devices. The dashboard is highly customizable and can display information from various components. We will be creating custom cards for the dashboard to display ASL images.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-fields--attributes-1">Data Fields / Attributes:<a href="#data-fields--attributes-1" class="hash-link" aria-label="Direct link to Data Fields / Attributes:" title="Direct link to Data Fields / Attributes:">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-data"><code>-data</code><a href="#-data" class="hash-link" aria-label="Direct link to -data" title="Direct link to -data">​</a></h5>
<p>Stores various data received from the server.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-showweatherpopup"><code>-showWeatherPopup</code><a href="#-showweatherpopup" class="hash-link" aria-label="Direct link to -showweatherpopup" title="Direct link to -showweatherpopup">​</a></h5>
<p>Boolean state to control the visibility of the weather popup.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-query"><code>-query</code><a href="#-query" class="hash-link" aria-label="Direct link to -query" title="Direct link to -query">​</a></h5>
<p>Stores the query parameters for fetching weather data.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-units"><code>-units</code><a href="#-units" class="hash-link" aria-label="Direct link to -units" title="Direct link to -units">​</a></h5>
<p>Stores the units (metric or imperial) for weather data.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-showentitychoices"><code>-showEntityChoices</code><a href="#-showentitychoices" class="hash-link" aria-label="Direct link to -showentitychoices" title="Direct link to -showentitychoices">​</a></h5>
<p>Boolean state to control the visibility of entity choices popup.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-showconfirmation"><code>-showConfirmation</code><a href="#-showconfirmation" class="hash-link" aria-label="Direct link to -showconfirmation" title="Direct link to -showconfirmation">​</a></h5>
<p>Boolean state to control the visibility of the confirmation popup.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-newsdata"><code>-newsData</code><a href="#-newsdata" class="hash-link" aria-label="Direct link to -newsdata" title="Direct link to -newsdata">​</a></h5>
<p>Stores the latest news data.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-weatherdata"><code>-weatherData</code><a href="#-weatherdata" class="hash-link" aria-label="Direct link to -weatherdata" title="Direct link to -weatherdata">​</a></h5>
<p>Stores the fetched weather data.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-handleclick"><code>-handleClick</code><a href="#-handleclick" class="hash-link" aria-label="Direct link to -handleclick" title="Direct link to -handleclick">​</a></h5>
<p>Console logs out name of the Clicked button</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-handleweatherbuttonclick"><code>-handleWeatherButtonClick</code><a href="#-handleweatherbuttonclick" class="hash-link" aria-label="Direct link to -handleweatherbuttonclick" title="Direct link to -handleweatherbuttonclick">​</a></h5>
<p>Upon clicking Weather button, triggers the display of a weather popup</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-handlenewsbuttonclick"><code>-handleNewsButtonClick</code><a href="#-handlenewsbuttonclick" class="hash-link" aria-label="Direct link to -handlenewsbuttonclick" title="Direct link to -handlenewsbuttonclick">​</a></h5>
<p>Upon clicking News button, fetches and displays news data</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-closepopup"><code>-closePopup</code><a href="#-closepopup" class="hash-link" aria-label="Direct link to -closepopup" title="Direct link to -closepopup">​</a></h5>
<p>Closes Weather Popup</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-handleentitychoice"><code>-handleEntityChoice</code><a href="#-handleentitychoice" class="hash-link" aria-label="Direct link to -handleentitychoice" title="Direct link to -handleentitychoice">​</a></h5>
<p>Handles user entity choices by it sending a POST request to a local server endpoint (<a href="http://127.0.0.1:5000/perform_action" target="_blank" rel="noopener noreferrer">http://127.0.0.1:5000/perform_action</a>) with JSON data containing information about device choice and an entity choice</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-handlelightbuttonclick"><code>-handleLightButtonClick</code><a href="#-handlelightbuttonclick" class="hash-link" aria-label="Direct link to -handlelightbuttonclick" title="Direct link to -handlelightbuttonclick">​</a></h5>
<p>Handles Light button clicks, by sending POST request to a local server endpoint (<a href="http://127.0.0.1:5000/get_entities" target="_blank" rel="noopener noreferrer">http://127.0.0.1:5000/get_entities</a>) with JSON data specifying a device choice of &quot;Light&quot;.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-handlelockbuttonclick"><code>-handleLockButtonClick</code><a href="#-handlelockbuttonclick" class="hash-link" aria-label="Direct link to -handlelockbuttonclick" title="Direct link to -handlelockbuttonclick">​</a></h5>
<p>Handles clicking Lock Button. It sends a POST request to a local server endpoint (<a href="http://127.0.0.1:5000/get_entities" target="_blank" rel="noopener noreferrer">http://127.0.0.1:5000/get_entities</a>) with JSON data specifying a device choice of &quot;Lock&quot;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-getentityicon"><code>-getEntityIcon</code><a href="#-getentityicon" class="hash-link" aria-label="Direct link to -getentityicon" title="Direct link to -getentityicon">​</a></h5>
<p>A function to get the appropriate icon for a given entity type.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-fetchweather"><code>-fetchWeather</code><a href="#-fetchweather" class="hash-link" aria-label="Direct link to -fetchweather" title="Direct link to -fetchweather">​</a></h5>
<p>A function to fetch weather data.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-device_states"><code>-device_states[]</code><a href="#-device_states" class="hash-link" aria-label="Direct link to -device_states" title="Direct link to -device_states">​</a></h5>
<p>On/Off/Other state of the device</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="methods-1">Methods<a href="#methods-1" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="home"><code>+Home()</code><a href="#home" class="hash-link" aria-label="Direct link to home" title="Direct link to home">​</a></h5>
<p>It defines and initializes several state variables using the useState hook, including data related to weather, entity choices, and news, as well as flags for controlling the display of various popups and confirmation messages.</p>
<p>It uses the useEffect hook to fetch weather data from a local server when the component mounts, set up an EventSource to receive real-time gesture data updates, and perform other side effects like setting up a video feed.</p>
<p>It sets up additional useEffect hooks to handle changes in the received gesture data, device choices, entity choices, and device status.</p>
<p>It defines several helper functions to handle button clicks related to weather, news, lights, locks, and entity choices.</p>
<p>It defines a function to format the background color based on weather conditions.</p>
<p>It renders a main layout with buttons for various device choices, displays relevant data and gesture information, and conditionally renders popups for weather, news, entity choices, and confirmation messages based on state variables.</p>
<p>It exports the Home function as the default export of the module.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="send_command"><code>+send_command()</code><a href="#send_command" class="hash-link" aria-label="Direct link to send_command" title="Direct link to send_command">​</a></h5>
<p>Function sends commands from User Interface</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="display_device_state"><code>+display_device_state()</code><a href="#display_device_state" class="hash-link" aria-label="Direct link to display_device_state" title="Direct link to display_device_state">​</a></h5>
<p>Function displays different states of Home devices on User Interface</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="device">Device<a href="#device" class="hash-link" aria-label="Direct link to Device" title="Direct link to Device">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-purpose-2">Class Purpose<a href="#class-purpose-2" class="hash-link" aria-label="Direct link to Class Purpose" title="Direct link to Class Purpose">​</a></h3>
<p>These are the actual smart home devices (lights, thermostats, cameras, etc.) that are being controlled. They communicate with Home Assistant to receive commands and send status updates. The devices are controlled using the built-in components provided by Home Assistant, but can be written to include other devices.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-fields--attributes-2">Data Fields / Attributes<a href="#data-fields--attributes-2" class="hash-link" aria-label="Direct link to Data Fields / Attributes" title="Direct link to Data Fields / Attributes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-device_id"><code>-device_id</code><a href="#-device_id" class="hash-link" aria-label="Direct link to -device_id" title="Direct link to -device_id">​</a></h5>
<p>Device ID that is a discriminator to determine a device.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-device_type"><code>-device_type</code><a href="#-device_type" class="hash-link" aria-label="Direct link to -device_type" title="Direct link to -device_type">​</a></h5>
<p>Type of device</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-status"><code>-status</code><a href="#-status" class="hash-link" aria-label="Direct link to -status" title="Direct link to -status">​</a></h5>
<p>Status of device</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-capabilities"><code>-capabilities[]</code><a href="#-capabilities" class="hash-link" aria-label="Direct link to -capabilities" title="Direct link to -capabilities">​</a></h5>
<p>Capabilities of the device, as specified by requirements or Apple&#x27;s HAP when necessary.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="methods-2">Methods<a href="#methods-2" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="update_status"><code>+update_status()</code><a href="#update_status" class="hash-link" aria-label="Direct link to update_status" title="Direct link to update_status">​</a></h5>
<p>Function updates status of device</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="execute_capability"><code>+execute_capability()</code><a href="#execute_capability" class="hash-link" aria-label="Direct link to execute_capability" title="Direct link to execute_capability">​</a></h5>
<p>Function executes capabilities of device</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pythonscripts">PythonScripts<a href="#pythonscripts" class="hash-link" aria-label="Direct link to PythonScripts" title="Direct link to PythonScripts">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-purpose-3">Class Purpose<a href="#class-purpose-3" class="hash-link" aria-label="Direct link to Class Purpose" title="Direct link to Class Purpose">​</a></h3>
<p>These are scripts that we will write to load the machine learning model pre-process images using OpenCV, and make predictions. The scripts will be run on a Raspberry Pi 4.</p>
<p>The OpenCV library will be used to capture images or video frames from a camera connected to the Raspberry Pi. These images will then be preprocessed (e.g., resized, normalized) to be compatible with the input requirements of the TensorFlow Lite model.</p>
<p>The TensorFlow Lite model, which has been trained to recognize ASL gestures. The preprocessed images will be passed to this model to make predictions.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-fields--attributes-3">Data Fields / Attributes<a href="#data-fields--attributes-3" class="hash-link" aria-label="Direct link to Data Fields / Attributes" title="Direct link to Data Fields / Attributes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-model"><code>-model</code><a href="#-model" class="hash-link" aria-label="Direct link to -model" title="Direct link to -model">​</a></h5>
<p>This is the machine learning model</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-interpreter"><code>-interpreter</code><a href="#-interpreter" class="hash-link" aria-label="Direct link to -interpreter" title="Direct link to -interpreter">​</a></h5>
<p>This is the TensorFlow Lite interpreter used to run the model.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-image"><code>-image</code><a href="#-image" class="hash-link" aria-label="Direct link to -image" title="Direct link to -image">​</a></h5>
<p>This is the image captured by the Pi Camera.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-prediction"><code>-prediction</code><a href="#-prediction" class="hash-link" aria-label="Direct link to -prediction" title="Direct link to -prediction">​</a></h5>
<p>This is the prediction made by the model based on the image.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="methods-3">Methods<a href="#methods-3" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="load_model"><code>+load_model()</code><a href="#load_model" class="hash-link" aria-label="Direct link to load_model" title="Direct link to load_model">​</a></h5>
<p>Function loads Machine Learning model of PythonScripts</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="capture_image"><code>+capture_image()</code><a href="#capture_image" class="hash-link" aria-label="Direct link to capture_image" title="Direct link to capture_image">​</a></h5>
<p>Function captures Image of User&#x27;s hand gestures</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="preprocess_image"><code>+preprocess_image()</code><a href="#preprocess_image" class="hash-link" aria-label="Direct link to preprocess_image" title="Direct link to preprocess_image">​</a></h5>
<p>Function Pre-Processes Image of User&#x27;s hand gestures</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="make_prediction"><code>+make_prediction()</code><a href="#make_prediction" class="hash-link" aria-label="Direct link to make_prediction" title="Direct link to make_prediction">​</a></h5>
<p>Function makes prediction to identify correct hand gesture</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="javascriptcustomcards">JavaScriptCustomCards<a href="#javascriptcustomcards" class="hash-link" aria-label="Direct link to JavaScriptCustomCards" title="Direct link to JavaScriptCustomCards">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-purpose-4">Class Purpose<a href="#class-purpose-4" class="hash-link" aria-label="Direct link to Class Purpose" title="Direct link to Class Purpose">​</a></h3>
<p>These are custom cards that we will create for the Home Assistant dashboard to display ASL images. The cards will be written in JavaScript and Home Assistant frontend development framework and will be used to enhance the user interface for our targeted demographic and provide necessary visual feedback when required.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-fields--attributes-4">Data Fields / Attributes<a href="#data-fields--attributes-4" class="hash-link" aria-label="Direct link to Data Fields / Attributes" title="Direct link to Data Fields / Attributes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-card_id"><code>-card_id</code><a href="#-card_id" class="hash-link" aria-label="Direct link to -card_id" title="Direct link to -card_id">​</a></h5>
<p>Javascript Custom Card ID</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-image-1"><code>-image</code><a href="#-image-1" class="hash-link" aria-label="Direct link to -image-1" title="Direct link to -image-1">​</a></h5>
<p>Image of Javascript Custom Card</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-display_state"><code>-display_state</code><a href="#-display_state" class="hash-link" aria-label="Direct link to -display_state" title="Direct link to -display_state">​</a></h5>
<p>This is the current display state of the custom card.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="methods-4">Methods<a href="#methods-4" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="create_card"><code>+create_card()</code><a href="#create_card" class="hash-link" aria-label="Direct link to create_card" title="Direct link to create_card">​</a></h5>
<p>This function creates a new custom card.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="display_image"><code>+display_image()</code><a href="#display_image" class="hash-link" aria-label="Direct link to display_image" title="Direct link to display_image">​</a></h5>
<p>This function displays an <code>image</code> on the custom card.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="update_display_state"><code>+update_display_state()</code><a href="#update_display_state" class="hash-link" aria-label="Direct link to update_display_state" title="Direct link to update_display_state">​</a></h5>
<p>This function updates the <code>display_state</code> of the custom card.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="camera">Camera<a href="#camera" class="hash-link" aria-label="Direct link to Camera" title="Direct link to Camera">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-purpose-5">Class Purpose<a href="#class-purpose-5" class="hash-link" aria-label="Direct link to Class Purpose" title="Direct link to Class Purpose">​</a></h3>
<p>Camera catches instances of User hand gestures. Also, it sends those images to Class PythonScripts</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-fields--attributes-5">Data Fields / Attributes<a href="#data-fields--attributes-5" class="hash-link" aria-label="Direct link to Data Fields / Attributes" title="Direct link to Data Fields / Attributes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-image-2"><code>-image</code><a href="#-image-2" class="hash-link" aria-label="Direct link to -image-2" title="Direct link to -image-2">​</a></h5>
<p>Image used in processing</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="methods-5">Methods<a href="#methods-5" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="capture_image-1"><code>+capture_image()</code><a href="#capture_image-1" class="hash-link" aria-label="Direct link to capture_image-1" title="Direct link to capture_image-1">​</a></h5>
<p>This function captures an image or video frame.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="home-assistant-restful-api">Home Assistant RESTful API<a href="#home-assistant-restful-api" class="hash-link" aria-label="Direct link to Home Assistant RESTful API" title="Direct link to Home Assistant RESTful API">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class-purpose-6">Class Purpose<a href="#class-purpose-6" class="hash-link" aria-label="Direct link to Class Purpose" title="Direct link to Class Purpose">​</a></h3>
<p>RESTful API is responsible to establish communication between Home Assistant and IntelliGest, Home appliances. It will also get the state (On/off, etc) of Home appliances and will have power to change it as well.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="api">/api/<a href="#api" class="hash-link" aria-label="Direct link to /api/" title="Direct link to /api/">​</a></h5>
<p>Returns a message if the API is up and running.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;message&quot;: &quot;API running.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="apiservices">/api/services<a href="#apiservices" class="hash-link" aria-label="Direct link to /api/services" title="Direct link to /api/services">​</a></h5>
<p>Returns an array of service objects. Each object contains the domain and which services it contains.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;domain&quot;: &quot;browser&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;services&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;browse_url&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;domain&quot;: &quot;keyboard&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;services&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;volume_up&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;volume_down&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="apistates">/api/states<a href="#apistates" class="hash-link" aria-label="Direct link to /api/states" title="Direct link to /api/states">​</a></h5>
<p>Returns an array of state objects. Each state has the following attributes: entity_id, state, last_changed and attributes</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributes&quot;: {},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;entity_id&quot;: &quot;sun.sun&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;last_changed&quot;: &quot;2016-05-30T21:43:32.418320+00:00&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;state&quot;: &quot;below_horizon&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributes&quot;: {},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;entity_id&quot;: &quot;process.Dropbox&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;last_changed&quot;: &quot;22016-05-30T21:43:32.418320+00:00&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;state&quot;: &quot;on&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="apicalendars">/api/calendars<a href="#apicalendars" class="hash-link" aria-label="Direct link to /api/calendars" title="Direct link to /api/calendars">​</a></h5>
<p>Returns the list of calendar entities.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;entity_id&quot;: &quot;calendar.holidays&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;National Holidays&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;entity_id&quot;: &quot;calendar.personal&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;Personal Calendar&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-routes">API Routes<a href="#api-routes" class="hash-link" aria-label="Direct link to API Routes" title="Direct link to API Routes">​</a></h2>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-video-feed-from-flask-server">Returns Video Feed from Flask Server<a href="#returns-video-feed-from-flask-server" class="hash-link" aria-label="Direct link to Returns Video Feed from Flask Server" title="Direct link to Returns Video Feed from Flask Server">​</a></h5>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/video_feed&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">video_feed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">gen_frames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    mimetype</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;multipart/x-mixed-replace; boundary=frame&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-users-gesture-from-flask-server">Returns User&#x27;s Gesture from Flask Server<a href="#returns-users-gesture-from-flask-server" class="hash-link" aria-label="Direct link to Returns User&#x27;s Gesture from Flask Server" title="Direct link to Returns User&#x27;s Gesture from Flask Server">​</a></h5>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/current_gesture&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">current_gesture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">gesture</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">latest_gesture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> firstGesture </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> firstGesture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> secondGesture </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> secondGesture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> deviceChoice</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">deviceChoice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> deviceStatus</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">deviceStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">global_weather</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">global_weather</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> entityChoices</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">entityChoices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> entityChoice</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">entityChoice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-users-____-from-flask-server">Returns User&#x27;s ____ from Flask Server<a href="#returns-users-____-from-flask-server" class="hash-link" aria-label="Direct link to Returns User&#x27;s ____ from Flask Server" title="Direct link to Returns User&#x27;s ____ from Flask Server">​</a></h5>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/current_gesture_sse&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">current_gesture_sse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">generate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;latestGesture&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">latest_gesture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;firstGesture&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">firstGesture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;secondGesture&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">secondGesture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;deviceChoice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">deviceChoice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;deviceStatus&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">deviceStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;entityChoices&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">entityChoices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;entityChoice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">deviceChoice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;weatherData&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> global_weather</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;entityChoice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">entityChoice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;entityChoices&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">entityChoices</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">yield</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">f&quot;data:</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">json</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token string-interpolation interpolation">dumps</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">\n\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#time.sleep(1) </span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">generate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> mimetype</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;text/event-stream&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-users-performed-action">Returns User&#x27;s Performed action<a href="#returns-users-performed-action" class="hash-link" aria-label="Direct link to Returns User&#x27;s Performed action" title="Direct link to Returns User&#x27;s Performed action">​</a></h5>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/perform_action&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">perform_action</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    device_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;deviceChoice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    entity_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;entityChoice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Perform the desired action based on the device and entity choice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> device_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Light&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Toggle the light</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lightState </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> toggle_light</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entity_choice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> lightState </span><span class="token keyword" style="font-style:italic">is</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            deviceStatus </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;on&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">elif</span><span class="token plain"> lightState </span><span class="token keyword" style="font-style:italic">is</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            deviceStatus </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;off&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Device Status is&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> deviceStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">elif</span><span class="token plain"> device_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Lock&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lockState </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> toggle_lock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entity_choice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> lockState </span><span class="token keyword" style="font-style:italic">is</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            deviceStatus </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;locked&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">elif</span><span class="token plain"> lockState </span><span class="token keyword" style="font-style:italic">is</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            deviceStatus </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;unlocked&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Device Status is&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> deviceStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        processor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">elif</span><span class="token plain"> device_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Thermostat&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Perform action for thermostat</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">success</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-device-entities-from-flask-server">Returns Device Entities from Flask Server<a href="#returns-device-entities-from-flask-server" class="hash-link" aria-label="Direct link to Returns Device Entities from Flask Server" title="Direct link to Returns Device Entities from Flask Server">​</a></h5>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/get_entities&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">get_entities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    device_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;deviceChoice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> device_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Light&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        entity_choices </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> get_all_devices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">device_choice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityChoices</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">entity_choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">elif</span><span class="token plain"> device_choice </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Lock&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        entity_choices </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> get_all_devices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">device_choice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityChoices</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">entity_choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityChoices</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-news-from-flask-server">Returns News from Flask Server<a href="#returns-news-from-flask-server" class="hash-link" aria-label="Direct link to Returns News from Flask Server" title="Direct link to Returns News from Flask Server">​</a></h5>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/get_news&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">get_news</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">try</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        news_data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> get_recent_news</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> news_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">news_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;No news data available&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">404</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">except</span><span class="token plain"> Exception </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Failed to fetch news&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Capstone-Projects-2024-Spring/project-intelligest-smart-home/edit/main/documentation/docs/api-specification/api-design.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><details><summary>Revision History</summary><table><thead><tr><th scope="row">Author</th><th scope="row">Revision</th><th scope="row">Date</th></tr></thead><tbody>nothing</tbody></table></details><span class="theme-last-updated">Last updated<!-- --> by <b>Darshil Patel</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/project-intelligest-smart-home/docs/category/api-specification"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API Specification</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project-intelligest-smart-home/docs/category/test-procedures"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Test Procedures</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#home-assistant" class="table-of-contents__link toc-highlight">Home Assistant</a><ul><li><a href="#class-purpose" class="table-of-contents__link toc-highlight">Class Purpose</a></li></ul></li><li><a href="#user-interface" class="table-of-contents__link toc-highlight">User Interface</a><ul><li><a href="#class-purpose-1" class="table-of-contents__link toc-highlight">Class Purpose</a></li></ul></li><li><a href="#device" class="table-of-contents__link toc-highlight">Device</a><ul><li><a href="#class-purpose-2" class="table-of-contents__link toc-highlight">Class Purpose</a></li></ul></li><li><a href="#pythonscripts" class="table-of-contents__link toc-highlight">PythonScripts</a><ul><li><a href="#class-purpose-3" class="table-of-contents__link toc-highlight">Class Purpose</a></li></ul></li><li><a href="#javascriptcustomcards" class="table-of-contents__link toc-highlight">JavaScriptCustomCards</a><ul><li><a href="#class-purpose-4" class="table-of-contents__link toc-highlight">Class Purpose</a></li></ul></li><li><a href="#camera" class="table-of-contents__link toc-highlight">Camera</a><ul><li><a href="#class-purpose-5" class="table-of-contents__link toc-highlight">Class Purpose</a></li></ul></li><li><a href="#home-assistant-restful-api" class="table-of-contents__link toc-highlight">Home Assistant RESTful API</a><ul><li><a href="#class-purpose-6" class="table-of-contents__link toc-highlight">Class Purpose</a></li></ul></li><li><a href="#api-routes" class="table-of-contents__link toc-highlight">API Routes</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-intelligest-smart-home/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Capstone-Projects-2024-Spring/project-intelligest-smart-home" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="https://upload.wikimedia.org/wikipedia/commons/1/17/Temple_T_logo.svg" alt="My Site Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://upload.wikimedia.org/wikipedia/commons/1/17/Temple_T_logo.svg" alt="My Site Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2024 Project Intelligest Smart Home, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>